@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Sora:wght@400;500;600;700&display=swap');
@import '@copilotkit/react-ui/styles.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: dark;
}

body {
  @apply bg-ink-900 text-mist-100 font-display antialiased;
  background-image: radial-gradient(820px 420px at 6% 6%, rgba(34, 211, 238, 0.45), transparent 55%),
    radial-gradient(820px 460px at 94% 6%, rgba(249, 115, 22, 0.35), transparent 58%),
    radial-gradient(1200px 720px at 50% 100%, rgba(167, 139, 250, 0.28), transparent 62%),
    linear-gradient(180deg, rgba(20, 30, 52, 0.92), rgba(10, 13, 17, 0.98));
}

::selection {
  background: rgba(94, 234, 212, 0.2);
}

.surface {
  @apply rounded-2xl border border-ink-500/90 bg-ink-800/95 backdrop-blur;
}

.surface-subtle {
  @apply rounded-xl border border-ink-500/80 bg-ink-700/90;
}

.tabbar {
  @apply rounded-2xl border border-ink-600/80 bg-ink-800/80 px-3 py-3;
}

.tab {
  @apply flex items-center gap-2 rounded-xl border border-ink-600/80 bg-ink-900/60 px-3 py-2 text-xs text-mist-200 transition;
}

.tab-active {
  @apply border-accent-500/80 bg-ink-700/90 text-mist-100;
}

.tab-button {
  @apply flex flex-col items-start gap-1 text-left;
}

.tab-title {
  @apply text-sm font-semibold;
}

.tab-meta {
  @apply text-[0.65rem] uppercase tracking-[0.2em] text-mist-300;
}

.tab-close {
  @apply ml-2 rounded-full border border-ink-600/80 px-2 py-1 text-xs text-mist-300 transition hover:border-danger-500/70 hover:text-danger-500;
}

.badge {
  @apply inline-flex items-center gap-2 rounded-full border border-ink-500/80 px-3 py-1 text-xs uppercase tracking-[0.2em];
}

.link-ghost {
  @apply text-mist-300 transition hover:text-accent-500;
}

.button-contrast {
  @apply rounded-xl border border-accent-500/80 bg-ink-700/90 px-4 py-3 text-sm font-semibold text-mist-100 transition hover:border-accent-500 hover:bg-ink-600/90 hover:text-white;
}

.card-contrast {
  @apply rounded-2xl border border-ink-500/90 bg-ink-700/95 shadow-[0_0_0_1px_rgba(94,234,212,0.05),_0_16px_40px_rgba(0,0,0,0.35)];
}

.timeline-dot {
  @apply h-2 w-2 rounded-full bg-accent-500 shadow-glow;
}

.kpi {
  @apply rounded-2xl border border-ink-600/80 bg-ink-800/80 p-4;
}

.kpi-title {
  @apply text-xs uppercase tracking-[0.3em] text-mist-300;
}

.kpi-value {
  @apply mt-2 text-3xl font-semibold text-mist-100;
}

.chip {
  @apply rounded-full border border-ink-600/80 px-2 py-1 text-xs text-mist-300;
}

.scroll-list {
  @apply max-h-[420px] space-y-2 overflow-auto pr-2;
}

.list-row {
  @apply flex w-full items-center justify-between rounded-2xl border border-ink-600/80 bg-ink-800/70 px-4 py-3 text-left text-sm text-mist-100 transition hover:border-accent-500/70;
}

.status-dot {
  @apply h-2 w-2 rounded-full bg-ink-600;
}

.status-dot-active {
  @apply bg-accent-500 shadow-glow;
}

.stepper {
  @apply flex flex-col gap-3;
}

.step {
  @apply flex items-center gap-3 text-sm text-mist-300;
}

.step-dot {
  @apply h-3 w-3 rounded-full border border-ink-600/80 bg-ink-900/80;
}

.step-active {
  @apply text-mist-100;
}

.step-active .step-dot {
  @apply border-accent-500/80 bg-accent-500/60 shadow-glow;
}

.step-done {
  @apply text-mist-200;
}

.step-done .step-dot {
  @apply border-accent-500/80 bg-accent-500/40;
}

/* Keep Copilot trigger above page chrome. */
.copilotKitPopup {
  z-index: 50 !important;
}

/* Keep popup window anchored and fully visible on short viewports. */
.copilotKitPopup .copilotKitWindow {
  right: 1rem !important;
  left: auto !important;
  top: auto !important;
  bottom: 5rem !important;
  width: min(24rem, calc(100vw - 2rem)) !important;
  max-height: min(600px, calc(100vh - 7rem)) !important;
  height: min(600px, calc(100vh - 7rem)) !important;
}

@media (max-height: 760px) {
  .copilotKitPopup .copilotKitWindow {
    bottom: 1rem !important;
    max-height: calc(100vh - 2rem) !important;
    height: calc(100vh - 2rem) !important;
  }
}
